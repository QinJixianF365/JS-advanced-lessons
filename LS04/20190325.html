<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
20190325
ch05 JavaScriptFunction2
<script>
    console.log("小明回家");
    var xx = "小明家中（书桌-书包-铅笔盒-...）";//小明家中
    console.log("在家-做作业中 1 ...");
    function goToStore() {
        var yy = "文具商店中（文具店老板-出售的文具...）";//文具商店中
        console.log("在文具店-买文具中 ...");
        console.log("在文具店-买文具中 ... 发现没带钱");
        goToBank();
        console.log("在文具店-买好文具 ... 返回家");
    }
    function goToBank() {
        var zz = "银行中（银行职员-柜员机...）";//银行中
        console.log("在银行-取钱 ... 返回文具店");
    }
    console.log("在家-做作业中 2 ... 发现笔没油了");
    goToStore();//笔没油了，去商店买笔
    console.log("在家-继续做作业...");
</script>


<body>
    <div id="div1" style="width: 100px;height: 50px;"></div>
</body>
<script>
    var div1 = document.getElementById("div1");
    var username = "zhangsan";
    function foo() {
        div1.onclick = function() {
            this.innerHTML = username;
        }
    }
    foo();


    (function(w, d) {
        w.onload = function() {
            
        }
    })(window, document)
</script>


<script>
    // IIFE 立即执行函数表达式 2种
    // (function 函数名(参数){
        //函数体
    // }(实参))
    (function max(x, y) {
        return x>y ? x : y;
    }(2, 3));

    (function min(a, b) {
        return a > b ? b : a;
    })(2, 3);
</script>

<script>
    var userID = 2;
    document.onclick = function() {
        alert(userID);
    }

    (function() {
        if(true) {
            var userID = 20;
        }
    })()
</script>

<script>
    function f() {
        var getNumFuncs = [];//函数数组
        for(var i=0; i<10; i++){
            (function (j) {
                getNumFuncs[j] = function(){return j;};
            })(i);
        }
        return getNumFuncs;
    }
    var tmp = f();
    tmp[3]();//输出为3，tmp[0]()...tmp[9]()都为是期望的结果
</script>
<script>
    function foo() {
        var arr1 = [];
        for(var i = 0; i < 10; i++) {
            arr1[i] = (function() {
                return i;
            })()
        }
        return arr1;
    }
    var arr2 = foo();
    console.log(arr2);
</script>
<script>
    function foo() {
        var arr1 = [];
        for(var i = 0; i < 10; i++) {
            // 形成十个作用域，作用域内的j值各不相同
            // 并且不共享
            (function(j) {
                arr1[j] = function() {
                    return j;
                }
            })(i)
        }
        return arr1;
    }
    var arr2 = foo();
    arr2[0]();
</script>


<body>
    <div class="container">
            <div class="tabs">
                <span class="active">导航0</span>
                <span>导航1</span>
                <span>导航2</span>
                <span>导航3</span>
            </div>
            <div class="contents">
                <div class="show">导航0内容</div>
            </div>
    </div>
</body>
<script>
    // 1.立即执行函数表达式
    // 2.避免变量的污染，形成一个独立的空间，变量仅在该作用域内起作用
    var spanList = document.getElementByIagName("span");
    var show = document.getElementsByTagName("show")[0];
    for(var i = 0; i < spanList.length; i++) {
        (function(j) {
            spanList[i].onclick = function() {
                show.innerHTML = "导航" + i + "内容";
            }
        })(i)
        
    }
</script>
</html>